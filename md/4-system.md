# システムの構成（書き途中）

## システムの要件

### ユースケース

以下のようなユースケースを設定した。

大学生の楓さんは友人の紅葉さんから勧められてイワン ツルゲーネフの「はつ恋」を読むことにした。彼女は読書
まず、青空文庫のサイトで「はつ恋」の図書カードを開く。そしてそこからテキストのリ ンクをコピーして、システムに貼り付けて、システム上で「はつ恋」を読めるようにする。 システムで小説の選択からダウンロード済みを選んで、「はつ恋」をシステム上に表示する。
楓さんは読み進めると 1 ページ目で3人のおじいさんが
出てくることに気づく。主人とセ ルゲイ・ニコラーエヴィチと、ヴラジーミル・ペトローヴィチの3人で、それらの人物を登場人物に追加したい。そこで登場人物の候補を抽出ボタンを押すことで候補を出した。候補 には「イヴァーノヴナ」「客」「お嬢さん」など様々な候補が出されたので、ハイライトされた部分を確認しながら人物を絞って追加した。
この調子で気になるところで人物候補の抽出を行っていく。5 ページ目に「背の高い少女」が出てきたのでその人物を追加する。この時、入れたい人物は一人だけだったので情報追 加で登場人物追加を選び入力した。また、それと同時に小説内で関係だと思うものを情報追 加から関係性追加を選んで追加していく。例えばウラジーミル・ペトローヴィチは6ページ 目で背の高い少女と知り合いになりたいと思っているのでその情報を足していく。その後 12 ページめでその少女の名前が「ジナイーダ」であることが明かされたので、可視化の選択か ら編集画面を選ぶ。選ぶと登場人物の表が出てくるので該当箇所を修正して変更を保存ボタ ンを押した。
その後も読み進めて 22 ページでジナイーダの取り巻きであるマレーフスキイ、ルーシン、 マイダーノフ、ニルマーツキイ、ベロヴゾーロフが登場したのでそれらの人物も追加した。 そこで楓さんはロシア人の名前がたくさん出てきて読むのに疲れたためいったん読むのをや めた。
楓さんは 1 週間開けてまた途中から読み直すことにした。しかし、1 週間期間を開けてし まったので、小説の中で誰が重要人物か思い出せなくなってしまった。そこでシステムにお いて人物相関図を表示して、内容を思い出すことにした。22 ページにおける人物相関図を見 ると、「ウラジーミル・ペトローヴィチ」と「ジナイーダ」が大きな頂点として描かれていた ので主要な人物が誰か確認できた。(図 5.1)
読み進めていくうちに「ルーシン」という人物が出てきた。「ジナイーダ」の取り巻きで あることは覚えているが、実際に誰なのかはわからない。そこで編集画面で登場人物表の
「ルーシン」をクリックしてどのくらいの頻度で確認しているかを確認した。 友人の紅葉さんにそのシステムを使っていることを話すと、紅葉さんは小説の考察をすることが好きなので、自分もそのシステムで自分の考察をまとめてみることにした。1 週間後 に楓さんが読み終えて、紅葉さんも考察が終わったので、二人で感想を言い合うことにした。 二人で入力した内容を見ている時に、楓さんは 51 ページの「ジナイーダがウラジーミルに塀 から降りるようにいった」ところの捉え方が異なっていることに気づいた。楓さんはこの関 係の好感度が低いと思ったが、紅葉さんは「ジナイーダは本当に飛び降りて欲しいとは思っていない」からだと好感度を高めに設定していた。自分の読んだ内容を思い出しながら会話を楽しむことができた。

### システムの要件設定

ユースケースの内容からシステムの要件を以下のように定義した。

(N1) システムの上で読書ができること

(N2) 小説に関する重要な情報を手軽に追加できること

(N3) 情報を後から編集できること

(N4) 小説の進行度に合わせて関係図を表示すること

## 可視化システム
4.1にて設定した要件をもとにシステムを設計した。この説では要件にそってシステムの説明を行う。

### (N1)システムの上で読書ができること

Kindle などの様々な電子書籍リーダーを参考にしながら、読書に必要な機能を以下のよう にまとめた。ただし、文章の読みやすさを向上することは研究の真の目的とは言えないので、 読書機能はなるべく簡潔に本当に必要な機能だけを条件として定義するようにした。システ ムの読書画面には、小説の選択機能、小説の内容の表示、しおりなどの機能が実装されてい る。(図 6.1)
(A) のボタンを押すと新しく小説を青空文庫のサイトからダウンロードするか、既にダウ ンロードした小説から読む小説を選ぶのか選択することができる。小説をダウンロードする 際は、青空文庫の作品の図書カードページの作品のダウンロードからリンクをコピーし、貼 り付ける。貼り付けると、青空文庫のデータをダウンロードして、テキストデータから題名 や著者、本文のデータを抽出して表示しやすい形へ成形する。ダウンロードした作品を選ぶ 際は、既にダウンロードした作品の一覧から自分の読みたい作品を選択する。選択すると(B)(C) に表示される小説が選んだものへと変更される。(C) の表示される本文は最初に読む ときは最初のページ、2回目以降に読む場合は前回最後に読んだページが表示される。
(B) は読んでいる小説の題名と著者を表示している。この部分は読む小説を (A) で選択し直すまで変更されない。
(C) は小説の本文を表示している。元々の青空文庫で公開しているテキストデータには区 切りがないが、そのままシステム上に表示すると、ページをスクロールする必要があり読んだ部分の把握が難しくなるので、一定文字数で区切ってページとして管理している。ページをめくるなどの操作は後に説明する (D) で行う。
(D) は主にページの移動のためのツールが集中している。左から右へ順に機能を説明する。 まず左端のスライダーはつまみを動かして、見たいページを選択し、そのページに飛ぶこと ができる。次の二つのボタンはページをめくる操作を補助する。「◁」を押すと前のページへ、「▷」を押すと次のページへとめくることができる。次の「しおり」と書かれたボタンを 押すと現在表示しているページをしおりのリストに追加することができる。最後に (D) の 1番右に位置している「しおりに飛ぶ」ボタンを押すと、以前に追加したしおりのページを選択し、そのページに飛ぶことができる。

### (N2)情報の追加方法
この節では読んだ小説内の情報をシステムに追加する方法を紹介する。このシステムで入力できる情報は<!---->で議論した通り、登場人物と関係性の二つである。システム上で入力された情報はシステムを閉じても、保存され続ける。情報追加は手動と自動の二通りで行えるので順番に紹介する。

#### 自動抽出
自動抽出では











